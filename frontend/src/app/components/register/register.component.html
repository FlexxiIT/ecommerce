<div class="body">
  <div class="container">
    <div class="title">Registrarse</div>
    <form  [formGroup]="registerForm">
      <div class="user-details">

        <div class="input-box">
          <span class="details">Nombre</span>
          <div class="input-container">
            <input type="text" placeholder=" Ingrese su nombre" formControlName="firstName">
            <i class="fa-solid fa-user"></i>        
          </div>
  
          <div class="error-container">
            <div class="text-danger" *ngIf="registerForm.controls['firstName'].invalid && (registerForm.controls['firstName'].touched || registerForm.controls['firstName'].dirty)">
              <span *ngIf="registerForm.get('firstName')?.hasError('required') && registerForm.get('firstName')?.touched">
                Es necesario completar el nombre
              </span>
              <span *ngIf="registerForm.get('firstName')?.hasError('minlength') && registerForm.get('firstName')?.touched || 
              registerForm.get('firstName')?.hasError('maxlength') && registerForm.get('firstName')?.touched">
              Utiliza entre 3 y 24 caracteres.
              </span>
            </div>
          </div>
        </div>

        <div class="input-box">
          <span class="details">Apellido</span>
          <div class="input-container">
            <input type="text" placeholder=" Ingrese su nombre" formControlName="lastName">
            <i class="fa-solid fa-user"></i>        
          </div>      
          <div class="error-container">
            <div class="text-danger" *ngIf="registerForm.controls['lastName'].invalid && (registerForm.controls['lastName'].touched || registerForm.controls['lastName'].dirty)">
              <span *ngIf="registerForm.get('lastName')?.hasError('required') && registerForm.get('lastName')?.touched">
                Es necesario completar el apellido
              </span>
              <span *ngIf="registerForm.get('lastName')?.hasError('minlength') && registerForm.get('lastName')?.touched || 
              registerForm.get('lastName')?.hasError('maxlength') && registerForm.get('lastName')?.touched">
              Utiliza entre 3 y 24 caracteres.
              </span>
            </div>
          </div>
        </div>

        <div class="input-box">
          <span class="details">Email</span>
          <input type="text" placeholder=" Ingrese su Email" formControlName="email">
          <i class="fa-regular fa-envelope icon"></i>
          <div class="error-container">
            <div class="text-danger" *ngIf="registerForm.controls['email'].invalid && (registerForm.controls['email'].touched || registerForm.controls['email'].dirty)">
              <span *ngIf="registerForm.get('email')?.hasError('required') && registerForm.get('email')?.touched">
                Es necesario completar el email
              </span>
              <span *ngIf="registerForm.get('email')?.hasError('email') && registerForm.get('email')?.touched">
                Utilice un correo valido!
              </span>
            </div>
          </div>
        </div>
        <div class="input-box">
          <span class="details">Telefono</span>
          <input type="text" placeholder=" Ingrese su Telefono" formControlName="phonenumber">
          <i class="fa-solid fa-phone"></i>          
          <div class="error-container">
            <div class="text-danger" *ngIf="registerForm.controls['phonenumber'].invalid && (registerForm.controls['phonenumber'].touched || registerForm.controls['phonenumber'].dirty)">
              <span *ngIf="registerForm.get('phonenumber')?.hasError('required') && registerForm.get('phonenumber')?.touched">
                Es necesario completar el telefono
              </span>
            </div>
          </div>
        </div>
        <div class="input-box">
          <span class="details">Contraseña</span>
          <input type="{{ showPassword ? 'text' : 'password' }}" placeholder=" Ingrese su Contraseña" formControlName="password" >
          <i class="fa-solid fa-lock icon"></i>
          <i class="fa-solid fa-eye-slash showHidePw " [ngClass]="showPassword ? 'fa-eye' : 'fa-eye-slash'" (click)="togglePasswordVisibility"></i>
          <div class="error-container">
            <div class="text-danger" *ngIf="registerForm.controls['password'].invalid && (registerForm.controls['password'].touched || registerForm.controls['password'].dirty)">
              <span *ngIf="registerForm.get('password')?.hasError('required') && registerForm.get('password')?.touched">
                Es necesario completar la contraseña!
              </span>
              <span *ngIf="registerForm.get('password')?.hasError('minlength') && registerForm.get('password')?.touched || 
                registerForm.get('password')?.hasError('maxlength') && registerForm.get('password')?.touched">
                Utiliza entre 8 y 24 caracteres.
              </span> 
            </div>
          </div>
        </div>
        <div class="input-box">
          <span class="details">Confirmar Contraseña</span>
          <input type="{{ showPassword ? 'text' : 'password' }}" placeholder=" Confirmar Contraseña" formControlName="confirmPassword" >
          <i class="fa-solid fa-lock icon"></i>
          <i class="fa-solid fa-eye-slash showHidePw " [ngClass]="showPassword ? 'fa-eye' : 'fa-eye-slash'" (click)="togglePasswordVisibility"></i>
          <div class="error-container">
            <div class="text-danger" *ngIf="registerForm.controls['confirmPassword'].invalid && (registerForm.controls['confirmPassword'].touched || registerForm.controls['confirmPassword'].dirty)">
              <span *ngIf="registerForm.get('confirmPassword')?.hasError('required') && registerForm.get('confirmPassword')?.touched">
                Es necesario confirmar la contraseña.
              </span><br>
              <span *ngIf="registerForm.get('confirmPassword')?.value !== registerForm.get('password')?.value">
               Las contraseñas no coinciden.
              </span>     
            </div> 
          </div>
        </div>
      </div>
      <div class="gender-details">
        <input type="checkbox">
        <span class="gender-title"> Aceptar terminos y condiciones</span>
      </div>
      <div class="button">
        <input type="button" value="Iniciar sesion" class="register-button" (click)="onSubmit()">   
      </div>
    </form>
  </div>
</div>